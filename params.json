{
  "name": "Sc-simple-api",
  "tagline": " Simple api for node to manage services via windows sc/NSSM",
  "body": "# sc-simple-api\r\n\r\nA simple API to manage windows services via SC / NSSM.\r\n\r\n# Install\r\n\r\n```sh\r\nnpm i @mh-cbon/sc-simple-api\r\n```\r\n\r\n# Usage\r\n\r\n```js\r\nvar SimpleScApi = require('@mh-cbon/simple-sc-api')\r\n\r\nvar ssa = new SimpleScApi()\r\n\r\n// sc queryEx type= service\r\nssa.list({type: \"service\"}, function (err, items) {\r\n  console.log(items)\r\n})\r\n\r\n// sc qdescribe serviceId\r\nssa.qdescribe(\"serviceId\", function (err, info) {\r\n  console.log(info)\r\n})\r\n\r\n// sc qdescribe serviceId + sc queryEx\r\nssa.describe(\"serviceId\", function (err, info) {\r\n  console.log(info)\r\n})\r\n\r\n// sc config fake type= service\r\nssa.config('fake', {type: \"service\"}, function (err) {\r\n  err && console.error(err);\r\n})\r\n\r\n// sc create failure type= share displayname= \"My fake service\" \\\r\n// binpath= \"C:\\\\nodejsx64\\\\node.exe C:\\\\vagrant\\\\utils\\\\fake-service.js\"\r\nvar service = {\r\n  id: 'failure',\r\n  type: 'share',\r\n  displayname: 'My fake service',\r\n  binpath: 'C:\\\\nodejsx64\\\\node.exe C:\\\\vagrant\\\\utils\\\\fake-service.js'\r\n}\r\nssa.install(service, function (err) {\r\n  err && console.error(err);\r\n})\r\n\r\n// nssm.exe serviceId C:\\\\nodejsx64\\\\node.exe C:\\\\vagrant\\\\utils\\\\fake-service.js\r\nssa.nssmInstall('serviceId', 'C:\\\\nodejsx64\\\\node.exe', 'C:\\\\vagrant\\\\utils\\\\fake-service.js', function (err) {\r\n  err && console.error(err);\r\n})\r\n\r\n// sc start fake some= args\r\nssa.start('fake', [\"some=\", \"args\"], function (err) {\r\n  err && console.error(err);\r\n})\r\n\r\n// sc stop fake + sc start fake some= args\r\nssa.restart('fake', [\"some=\", \"args\"], function (err) {\r\n  err && console.error(err);\r\n})\r\n\r\n// sc stop fake\r\nssa.stop('fake', function (err) {\r\n  err && console.error(err);\r\n})\r\n\r\n// sc delete fake\r\nssa.uninstall('fake', function (err) {\r\n  err && console.error(err);\r\n})\r\n```\r\n\r\n# Testing\r\n\r\nTo run the __windows__ tests on a fedora-like box,\r\n\r\n- download and install [vagrant from their website](https://www.vagrantup.com/downloads.html), do not use distrib package. WinRM is somehow broken at that day.\r\n- install [winrm plugin](https://github.com/criteo/vagrant-winrm): `vagrant plugin install vagrant-winrm`\r\n- execute `npm run test-windows`\r\n- wait, a looooooonnnnggggg time. Windows images are very big....\r\n\r\n# Read more\r\n- https://msdn.microsoft.com/en-us/library/windows/desktop/ms685996%28v=vs.85%29.aspx\r\n- https://msdn.microsoft.com/fr-fr/library/windows/desktop/ee126211%28v=vs.85%29.aspx\r\n- https://msdn.microsoft.com/en-us/library/windows/desktop/ms685138%28v=vs.85%29.aspx\r\n- http://nssm.cc/commands\r\n- https://technet.microsoft.com/en-us/library/cc742126.aspx\r\n\r\n# notes\r\n\r\nIf you start to experience weirds behaviors, reboot your windows. As an example, see [this](http://stackoverflow.com/questions/20561990/how-to-solve-the-specified-service-has-been-marked-for-deletion-error)\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}